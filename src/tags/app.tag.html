<app onclick={ removeSplash }>

  <header>
    <nav role="navigation" aria-labelledby="firstLabel">
      <h2>Menu</h2>
      <div each={ page in app.data.content }>
        <a href="#{ page.slug }">{ page.title }</a>
      </div>
    </nav>
    <h1>#mainTitle</h1>
  </header>

  <main if={ getCurrentPage()  }>
    <app-page if={ currentPage.template == 'page' }></app-page>

    <!-- TODO post temlate -->

  </main>

  <script>
    /*
      Afraid of losing your cultural heritage?
      Culture lives by celebrating and sharing it.
      It cannot be saved by oppressing others.
    */

    var tag = this
    tag.currentPage = {}

    tag.getCurrentPage = function () {
      tag.currentPage = app.data.currentPage
      return app.data.currentPage
    }

    tag.removeSplash = function () {
      tag.root.classList.remove('loading')
    }

    /*
      EVENT LISTENERS
    */
    this.on('mount', function () {
      app.trigger(app.evt.appReady)
    })
    app.on(app.evt.contentReady, function () {
      tag.removeSplash()
    })
  </script>
</app>
